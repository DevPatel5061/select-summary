<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Select Summary</title>
  <link rel="stylesheet" href="popup.css" />
</head>

<body>
  <div id="api-setup" class="api-setup">
    <h3 class="api-setup-title">üîë Google API Key Setup</h3>

    <div class="api-input-container">
      <input type="password" id="api-key-input" placeholder="API key goes here" />

      <button id="show-hide-setup-key" class="toggle-btn">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          class="eye-icon">
          <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
          <circle cx="12" cy="12" r="3" />
        </svg>

        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          class="eye-off-icon" style="display: none;">
          <path
            d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24" />
          <line x1="1" y1="1" x2="23" y2="23" />
        </svg>

      </button>
    </div>

    <button id="save-api-key" class="save-btn">Save API Key</button>

    <div class="ai-info">
      <p>This extension uses Gemini 2.5 Flash-Lite.</p>
    </div>

    <details class="api-instructions">
      <summary class="api-instruction-title">Setup Instructions</summary>
        <p>1. Make sure you're logged into a Google account</p>
        <p>2. Go to <a href="https://aistudio.google.com/app/apikey" target="_blank" rel="noopener noreferrer"> Google Studio AI</a></p>
        <p>3. Click "Create API Key"</p>
        <p>4. Copy the API Key</p>
        <p>5. Paste it above</p>
    </div>
  </details>

</body>

<div id="main-content" class="main-content" style="display: none;">
  <div class="header-row">
    <h2 class="popup-title">ü§ñ Select Summary</h2>

    <button id="settings-btn" class="settings-btn">Settings</button>
  </div>

  <div id="summary-list">Summaries Failed to Load</div>

  <div class="button-container">
    <button class="clear-btn" id="clear-popup">Clear All</button>
    <button class="close-btn" id="close-popup">Close</button>
  </div>
</div>

<div id="settings-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="settings-title">‚öôÔ∏è Settings</h3>
      <button id="close-settings" class="close-modal-btn">&times;</button>
    </div>

    <div class="settings-section">
      <h4>API Key Management</h4>

    <div class="api-key-display">
      <label>Current API Key:</label>

      <div class="api-key-container">
        <input type="password" id="current-api-key" readonly />

        <button id="show-hide-key" class="toggle-btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            class="eye-icon">
            <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
            <circle cx="12" cy="12" r="3" />
          </svg>

          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            class="eye-off-icon" style="display: none;">
            <path
              d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24" />
            <line x1="1" y1="1" x2="23" y2="23" />
          </svg>
        </button>

      </div>
    </div>
    <div class="api-actions">
      <button id="change-api-key" class="change-btn">Change API Key</button>
      <button id="confirm-api-key" class="change-btn confirm-btn" style="display: none;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="20,6 9,17 4,12"></polyline>
        </svg>
      </button>

      <button id="cancel-api-key" class="change-btn cancel-btn" style="display: none;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>

      <button id="delete-api-key" class="delete-btn">Delete API Key</button>
    </div>

    <div class="setting-info">
      <p>Your API key is stored locally and never shared.</p>
    </div>

  </div>
</div>
</div>

<script src="popup.js"></script>

</body>

</html>